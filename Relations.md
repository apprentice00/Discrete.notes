# Relations

## Relations and Their Properties 关系与关系性质

### 二元关系

> 关系：集合A到集合B的二元关系R时A×B的子集(subset).及任一序偶的集合确定一个关系，记作：R:A×B, aRb。  
> 函数是特殊的关系
> 二元关系本质上是序偶的集合

#### complementary relation 补关系

### properties of relations 关系性质

#### reflexive 自反性

> 对于每个元素 a∈A 都有 (a,a)∈R，即 $\forall$a∈A, aRa。则称定义在集合A中的关系R是自反的  
> $\forall$x(x∈A ——> (x,x)∈R)

注：集合A上$2^{n^2-n}$种自反关系。A×A有$n^2$个序偶，如果要是自反，每个子集中必须含有n个(a,a),即减去这n个，然后求子集

#### irreflexive 反自反性

> 对于每个元素 a∈A 都有 (a,a)$\notin$R,则称定义在集合A中的关系R是反自反的  
> $\forall$x(x∈A ——> (x,x)$\notin$R)

例：  

* R1={(a,b)|a<b},
* A = $\emptyset$

注：不是自反不一定是反自反

#### symmetric 对称性

> 对于任意a,b∈A,若只要(a,b)∈R就有(b,a)∈R,则称定义在集合A中的关系R是对称的  
> $\forall$x$\forall$y ((x,y)∈R->(y,x)∈R)

例：  

* R1 = {(a,b)| a = b or a = -b}

注：

* 这里只要有(a,b)，就一定得有(b,a),才是对称的

#### antisymmetric 反对称性

> 对于任意a,b∈A,若(a,b)∈R并且(b,a)∈R,则一定有 a = b,则称定义在集合A中的关系R是反对称的  
> $\forall$x$\forall$y((x,y)∈R $\bigwedge$ (y,x)∈R ——>x=y )

例：  

* R1 = {(a,b)|a$\leq$b}

#### Asymmetric 非对称

> (a,b) ∈R -> (b,a)$\notin$R。  
> 非对称还得主对角线为0,即无自环

#### transitive 传递性

> 如果对于任意a,b,c ∈A，(a,b)∈R 且(b,c)∈R则(a,c)∈R,那么定义在集合A上的关系R就满足传递性。  
> $\forall$a$\forall$b$\forall$c(((a,b)∈R$\bigwedge$(b,c)∈R)——>(a,c)∈R)

例：  

* R1 = {(a,b)|a$\leq$b}

注：

1. 当前提不成立时，也满足传递性。如 A={(a,b)}
2. R$\supseteq$R$^n$当且仅当R具有传递性

### 运算

$\bigvee$ ,$\bigwedge$, - ,$\oplus$(除去相同的序偶)

### composition 关系的合成

> R1是集合A到B的关系，R2是集合B到集合C的关系。则R2和R1的合成是A到C的关系：

* 若$\exists$y∈B,使得(x,y)∈R1且(y,z)∈R2,则(x,z)∈R2,则(x,z) ∈ R2$\omicron$R1,表示关系R1与R2的合成

## Representing Relations 表示关系

### 矩阵

> 使用Zero-One Matrices表示,M$_R$ = [m$_i$$_j$], 另m$_i$$_j$=1  iff(a$_i$ , b$_i$∈R),A行B列

#### 集合A上的关系矩阵

* R是自反关系，M$_R$主对角线上的所有元素=1
* R是反自反关系，M$_R$主对角线上的所有元素=0
* R是对称关系，当且仅当m$_i$$_j$ = 1，就有m$_j$$_i$ = 1
* R是反对称关系，在主对角线两侧，不会出下m$_i$$_j$ = m$_j$$_i$

### Directed Graphs 有向图

> 一个有向图由顶点集合V(或节点)和边(或弧)的集合E有组成。其中边集是V中元素的有序对的集合。顶点a称为边(a,b)的初始顶点，顶点b称为这条边的终端顶点。

### 关系的合成

> $M_{R_1R_2}$ = $M_{R_1}$$M_{R_2}$ , 即矩阵的布尔积

注意：R$_2$$\omicron$R$_1$ == $M_{R_1}$$M_{R_2}$,注意下标

#### 关系的幂

利用关系的合成(矩阵的布尔积)，在由得到的矩阵画图

### 关系特征、关系图、关系矩阵

| 关系特征 | 关系图特征 | 关系矩阵特征 |
| --- |--- | --- |
| 自反|每一个结点处有一个环|对角线元素均为1|
| 反自反|每一个结点处无环|对角线元素均为0|
|对称|一对结点之间要么没有边，要么有一双向的边|对称矩阵|
|反对称|一对节点之间无双向的边|M$_i$$_j$ = 1 (i!=j)有M$_i$$_j$ = 0|
|传递|v1-v2,v2-v3,则有v1-v3|R$\supset$R$^n$|

## ***集合与关系中的计数问题***

> 计数方法：乘法法则：完成一个任务需要n步，每一步的方案数分别为：m1,m2,m3,m4...m$_n$,则完成该任务的的方案总数为：m1*m2*m3...*m$_n$  
> 乘法法则很简单，但可以解决很多计数问题。使用该法则的重点在于两个：一是确定完成任务的步骤，二是确定每一个步骤的可选方案数。

每一个关系对应着一个矩阵，把关系上的计数问题转化为矩阵上的计数问题。

例：

给定含有n个元素的集合A，能够定义2$^n$×3$^{(n^2-n)/2}$个不同的自反且反对称关系

解答:  
对称关系对应的矩阵的特点是: 对角线上的项可以是0或者1，其余项必须成对满足:当mij=1时，mij=0。因此，获得这样的矩阵可以分为以下步骤:  

1. 通过n步将对角线上的n项设为0或者1。因为每一步有2种方案，因此总共有2$^n$种方案
2. 进行 (n$^2$-n)/2步，每1步操作是将m$_i$$_j$,m$_j$$_i$设置为以下3种情况之一：
3. m$_i$$_j$ = 1 ，m$_j$$_i$ = 0
4. m$_i$$_j$ = 0 ，m$_j$$_i$ = 1
5. m$_i$$_j$ = 0 ，m$_j$$_i$ = 0

因为每一步有3种可选方案。所以总的方案数是3$^{(n^2-n)/2}$根据乘法法则，以上共进行了n +(n$^2$-n)/2步，总的方案数是: $2^n3^{(n^2-n)/2}$